analyze_profile:
  description: >
    Analyze a user profile to identify missing or incomplete information. The fields are only:
    - userId
    - biome
    - ethnicGroup
    - territory
    - community
  expected_output: >
    A structured JSON object with fields:
    - summary
    - missing_required (list)
    - optional_suggestions (list)
    - priority_order (list)
    - suggested_prompts (dict with field-specific prompts)
  agent: profile_analyzer

start_conversation_flow:
  description: >
    Ask the user to fill in the missing profile fields based on the analysis results.
    Start a conversation flow to fill the missing profile fields using the provided analysis.
    Use the analysis_results from the previous task's output.
    If all fields are present, skip to the validate_profile task.
    Ask the user for the missing fields step-by-step in a conversational tone.
    Wait for user input (human-in-the-loop) to complete these fields.
  expected_output: >
    A series of conversational messages and user queries that guide the user to fill in missing fields.
    Short messages are preferred.
  agent: conversation_flow

validate_profile:
  description: >
    Validate the following profile data:
    - Check if all required fields are present
    - Verify data format and consistency
    - Flag any suspicious or inconsistent data
    - Determine if additional research is needed
  expected_output: >
    A JSON object containing:
    - validation_status: "valid" | "needs_verification" | "invalid"
    - issues: array of identified issues
    - research_needed: boolean
    - research_topics: array of topics needing verification
  agent: data_quality
